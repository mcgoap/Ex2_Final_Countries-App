{"ast":null,"code":"var _jsxFileName = \"/Users/carolina/REACT/Exerci\\u0301cio 2/ex2-countries-app - co\\u0301pia/src/components/Countries.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport CountriesList from \"./CountriesList\";\nimport Select from \"react-select\";\nimport { useState } from \"react\";\nimport \"./Countries.css\"; // interface Props {\n//   selectedRegion: string;\n// }\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst regions = [{\n  value: \"Africa\"\n}, {\n  value: \"Americas\"\n}, {\n  value: \"Asia\"\n}, {\n  value: \"Europe\"\n}, {\n  value: \"Oceania\"\n}];\n\nconst Countries = () => {\n  _s();\n\n  const [allCountriesList, setAllCountriesList] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const url = \"https://restcountries.com/v2/all/\"; // const fetchCountries = async () => {\n  //   try {\n  //     setLoading(true);\n  //     const response = await fetch(url);\n  //     const countries = await response.json();\n  //     if (countries) {\n  //       const countryInfo = countries.map((info: any) => {\n  //         const {\n  //           alpha3Code,\n  //           name,\n  //           capital,\n  //           flag,\n  //           region,\n  //           population,\n  //           languages,\n  //           borders,\n  //           currencies,\n  //         } = info;\n  //         return {\n  //           alpha3Code,\n  //           name,\n  //           capital,\n  //           flag,\n  //           region,\n  //           population,\n  //           languages,\n  //           borders,\n  //           currencies,\n  //         };\n  //       });\n  //       setCountriesList(countryInfo);\n  //     } else {\n  //       setCountriesList([]);\n  //       setLoading(false);\n  //     }\n  //     setLoading(false);\n  //   } catch (error: any) {\n  //     setLoading(false);\n  //     setError(error);\n  //   }\n  // };\n\n  useEffect(() => {\n    async function fetchDaata() {\n      try {\n        setLoading(true);\n        const response = await fetch(url);\n        const countries = await response.json();\n\n        if (countries) {\n          const countryInfo = countries.map(info => {\n            const {\n              alpha3Code,\n              name,\n              capital,\n              flag,\n              region,\n              population,\n              languages,\n              borders,\n              currencies\n            } = info;\n            return {\n              alpha3Code,\n              name,\n              capital,\n              flag,\n              region,\n              population,\n              languages,\n              borders,\n              currencies\n            };\n          });\n          setCountriesList(countryInfo);\n        } else {\n          setCountriesList([]);\n          setLoading(false);\n        }\n\n        setLoading(false);\n      } catch (error) {\n        setLoading(false);\n        setError(error);\n      }\n    }\n\n    fetchDaata();\n  }, []); // const { allCountries, loading, error } = useFetch(\n  //   \"https://restcountries.com/v2/all/\"\n  // );\n  // const dispatch = useDispatch();\n  // dispatch(getCountries(allCountries));\n\n  const [selectedRegion, setSelectedRegion] = useState(\"\");\n  const countriesList = allCountriesList.filter(country => country.region === selectedRegion);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"selection\",\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        placeholder: \"Please select a region of the globe ...\",\n        options: regions,\n        defaultMenuIsOpen: true,\n        getOptionLabel: regions => regions.value,\n        onChange: opt => {\n          if (opt != null) {\n            setSelectedRegion(opt.value);\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), selectedRegion && /*#__PURE__*/_jsxDEV(CountriesList, {\n      countries: countriesList,\n      selectedRegion: selectedRegion,\n      selectCountry: \"add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Countries, \"gMKzbgMAfpg5RrTq49J62avdP8Q=\");\n\n_c = Countries;\nexport default Countries;\n\nvar _c;\n\n$RefreshReg$(_c, \"Countries\");","map":{"version":3,"names":["React","useEffect","CountriesList","Select","useState","regions","value","Countries","allCountriesList","setAllCountriesList","error","setError","loading","setLoading","url","fetchDaata","response","fetch","countries","json","countryInfo","map","info","alpha3Code","name","capital","flag","region","population","languages","borders","currencies","setCountriesList","selectedRegion","setSelectedRegion","countriesList","filter","country","opt"],"sources":["/Users/carolina/REACT/Exercício 2/ex2-countries-app - cópia/src/components/Countries.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { store } from \"../store/store\";\nimport CountriesList from \"./CountriesList\";\nimport Select from \"react-select\";\nimport { Region } from \"../types\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\n\nimport { useFetch } from \"../hooks/useFetch\";\nimport { getCountries } from \"../store/countrySlice\";\nimport \"./Countries.css\";\n\n// interface Props {\n//   selectedRegion: string;\n// }\n\nconst regions: Region[] = [\n  { value: \"Africa\" },\n  { value: \"Americas\" },\n  { value: \"Asia\" },\n  { value: \"Europe\" },\n  { value: \"Oceania\" },\n];\n\nconst Countries = () => {\n  const [allCountriesList, setAllCountriesList] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const url = \"https://restcountries.com/v2/all/\";\n\n  // const fetchCountries = async () => {\n  //   try {\n  //     setLoading(true);\n  //     const response = await fetch(url);\n  //     const countries = await response.json();\n  //     if (countries) {\n  //       const countryInfo = countries.map((info: any) => {\n  //         const {\n  //           alpha3Code,\n  //           name,\n  //           capital,\n  //           flag,\n  //           region,\n  //           population,\n  //           languages,\n  //           borders,\n  //           currencies,\n  //         } = info;\n\n  //         return {\n  //           alpha3Code,\n  //           name,\n  //           capital,\n  //           flag,\n  //           region,\n  //           population,\n  //           languages,\n  //           borders,\n  //           currencies,\n  //         };\n  //       });\n  //       setCountriesList(countryInfo);\n  //     } else {\n  //       setCountriesList([]);\n  //       setLoading(false);\n  //     }\n  //     setLoading(false);\n  //   } catch (error: any) {\n  //     setLoading(false);\n  //     setError(error);\n  //   }\n  // };\n\n  useEffect(() => {\n    async function fetchDaata() {\n      try {\n        setLoading(true);\n        const response = await fetch(url);\n        const countries = await response.json();\n        if (countries) {\n          const countryInfo = countries.map((info: any) => {\n            const {\n              alpha3Code,\n              name,\n              capital,\n              flag,\n              region,\n              population,\n              languages,\n              borders,\n              currencies,\n            } = info;\n\n            return {\n              alpha3Code,\n              name,\n              capital,\n              flag,\n              region,\n              population,\n              languages,\n              borders,\n              currencies,\n            };\n          });\n          setCountriesList(countryInfo);\n        } else {\n          setCountriesList([]);\n          setLoading(false);\n        }\n        setLoading(false);\n      } catch (error: any) {\n        setLoading(false);\n        setError(error);\n      }\n    }\n    fetchDaata();\n  }, []);\n\n  // const { allCountries, loading, error } = useFetch(\n  //   \"https://restcountries.com/v2/all/\"\n  // );\n\n  // const dispatch = useDispatch();\n  // dispatch(getCountries(allCountries));\n\n  const [selectedRegion, setSelectedRegion] = useState(\"\");\n\n  const countriesList = allCountriesList.filter(\n    (country) => country.region === selectedRegion\n  );\n\n  return (\n    <section>\n      <section className=\"selection\">\n        <Select\n          placeholder={\"Please select a region of the globe ...\"}\n          options={regions}\n          defaultMenuIsOpen={true}\n          getOptionLabel={(regions) => regions.value}\n          onChange={(opt) => {\n            if (opt != null) {\n              setSelectedRegion(opt.value);\n            }\n          }}\n        />\n      </section>\n\n      {selectedRegion && (\n        <CountriesList\n          countries={countriesList}\n          selectedRegion={selectedRegion}\n          selectCountry=\"add\"\n        />\n      )}\n    </section>\n  );\n};\n\nexport default Countries;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}